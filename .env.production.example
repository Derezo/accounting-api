# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# Lifestream Dynamics Universal Accounting API
# =============================================================================

# -----------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION
# -----------------------------------------------------------------------------
DEPLOY_USER=accounting-api
DEPLOY_HOST=lifestreamdynamics.com
DEPLOY_PATH=/var/www/accounting-api
DEPLOY_DOMAIN=api.lifestreamdynamics.com
DEPLOY_PORT=3100

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3100
API_VERSION=v1

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL connection string
DATABASE_URL=postgresql://accounting_api_user:CHANGE_THIS_VALUE_BEFORE_DEPLOYMENT

# Database credentials (used by install script)
DB_NAME=accounting_api_production
DB_USER=accounting_api_user
DB_PASSWORD=CHANGE_THIS_PASSWORD_IN_PRODUCTION

# -----------------------------------------------------------------------------
# SECURITY & AUTHENTICATION
# -----------------------------------------------------------------------------
# JWT Secrets - MUST CHANGE IN PRODUCTION
JWT_SECRET=CHANGE_THIS_JWT_SECRET_TO_RANDOM_64_CHAR_STRING_IN_PRODUCTION
JWT_REFRESH_SECRET=CHANGE_THIS_REFRESH_SECRET_TO_RANDOM_64_CHAR_STRING_IN_PRODUCTION
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Encryption key for field-level encryption - MUST CHANGE IN PRODUCTION
ENCRYPTION_KEY=CHANGE_THIS_ENCRYPTION_KEY_TO_RANDOM_64_CHAR_STRING_IN_PRODUCTION

# Session secret
SESSION_SECRET=CHANGE_THIS_SESSION_SECRET_TO_RANDOM_64_CHAR_STRING_IN_PRODUCTION

# API Key for internal services (optional)
API_KEY_HASH=

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGIN=https://lifestreamdynamics.com,https://www.lifestreamdynamics.com,https://api.lifestreamdynamics.com

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FILE=/var/www/accounting-api/logs/production.log
LOG_ERROR_FILE=/var/www/accounting-api/logs/error.log

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (for notifications)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@lifestreamdynamics.com
SMTP_PASSWORD=CHANGE_THIS_EMAIL_PASSWORD
SMTP_FROM=Accounting API <noreply@lifestreamdynamics.com>

# -----------------------------------------------------------------------------
# PAYMENT PROCESSING (Stripe)
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_live_CHANGE_THIS_TO_YOUR_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_THIS_TO_YOUR_STRIPE_WEBHOOK_SECRET
STRIPE_PUBLISHABLE_KEY=pk_live_CHANGE_THIS_TO_YOUR_STRIPE_PUBLISHABLE_KEY

# -----------------------------------------------------------------------------
# FILE STORAGE
# -----------------------------------------------------------------------------
UPLOAD_DIR=/var/www/accounting-api/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,png,jpg,jpeg,csv,xlsx

# -----------------------------------------------------------------------------
# REDIS (Optional - for caching and sessions)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# MONITORING & HEALTH CHECKS
# -----------------------------------------------------------------------------
HEALTH_CHECK_INTERVAL=30000
ENABLE_METRICS=true
METRICS_PORT=9090

# -----------------------------------------------------------------------------
# BACKUP CONFIGURATION
# -----------------------------------------------------------------------------
BACKUP_DIR=/var/backups/accounting-api
BACKUP_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_SWAGGER=false
ENABLE_GRAPHQL=false
ENABLE_WEBSOCKETS=false

# -----------------------------------------------------------------------------
# TIMEZONE
# -----------------------------------------------------------------------------
TZ=America/Vancouver

# -----------------------------------------------------------------------------
# SSL/TLS CONFIGURATION
# -----------------------------------------------------------------------------
SSL_CERT_PATH=/etc/letsencrypt/live/api.lifestreamdynamics.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/api.lifestreamdynamics.com/privkey.pem

# =============================================================================
# IMPORTANT SECURITY NOTES:
#
# 1. CHANGE ALL "CHANGE_THIS_*" VALUES BEFORE DEPLOYING TO PRODUCTION
# 2. Generate secure random strings using: openssl rand -hex 32
# 3. Never commit this file with real credentials to version control
# 4. Ensure file permissions are restrictive: chmod 600 .env.production
# 5. Rotate secrets regularly (at least every 90 days)
# =============================================================================