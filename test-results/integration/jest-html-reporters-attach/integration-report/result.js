window.jest_html_reporters_callback__({"numFailedTestSuites":2,"numFailedTests":0,"numPassedTestSuites":0,"numPassedTests":0,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":2,"numTotalTests":0,"startTime":1759158824091,"success":false,"testResults":[{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"/home/eric/Projects/accounting-api/tests/integration/organization-settings-customization.test.ts","failureMessage":"  ● Test suite failed to run\n\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m308\u001b[0m:\u001b[93m80\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'calc' is of type 'unknown'.\n\n    \u001b[7m308\u001b[0m       const totalDiscountAmount = itemCalculations.reduce((sum, calc) => sum + calc.discountAmount, 0);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                               ~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m311\u001b[0m:\u001b[93m92\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'unknown' is not assignable to parameter of type 'string | number | Decimal'.\n\n    \u001b[7m311\u001b[0m       total = FinancialMath.subtract(FinancialMath.add(subtotalDecimal, taxAmountDecimal), totalDiscountAmount);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                                           ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m353\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'subtotal' does not exist on type '{}'.\n\n    \u001b[7m353\u001b[0m               subtotal: calc.subtotal,\n    \u001b[7m   \u001b[0m \u001b[91m                             ~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m354\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'discountAmount' does not exist on type '{}'.\n\n    \u001b[7m354\u001b[0m               discountAmount: calc.discountAmount,\n    \u001b[7m   \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m355\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'taxAmount' does not exist on type '{}'.\n\n    \u001b[7m355\u001b[0m               taxAmount: calc.taxAmount,\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m356\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'total' does not exist on type '{}'.\n\n    \u001b[7m356\u001b[0m               total: calc.total,\n    \u001b[7m   \u001b[0m \u001b[91m                          ~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m442\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'where.validUntil' is of type 'unknown'.\n\n    \u001b[7m442\u001b[0m         where.validUntil.gte = new Date(filters.validFrom);\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m445\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'where.validUntil' is of type 'unknown'.\n\n    \u001b[7m445\u001b[0m         where.validUntil.lte = new Date(filters.validTo);\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m945\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'number | Decimal' is not assignable to type 'number'.\n      Type 'Decimal' is not assignable to type 'number'.\n\n    \u001b[7m945\u001b[0m       totalValue: totalValue._sum.total || 0,\n    \u001b[7m   \u001b[0m \u001b[91m      ~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m18\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m18\u001b[0m   totalValue: number;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~~~\u001b[0m\n        The expected type comes from property 'totalValue' which is declared here on type 'QuoteStats'\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m946\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'number | Decimal' is not assignable to type 'number'.\n      Type 'Decimal' is not assignable to type 'number'.\n\n    \u001b[7m946\u001b[0m       acceptedValue: acceptedValue._sum.total || 0,\n    \u001b[7m   \u001b[0m \u001b[91m      ~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m19\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m19\u001b[0m   acceptedValue: number;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~~~~~~\u001b[0m\n        The expected type comes from property 'acceptedValue' which is declared here on type 'QuoteStats'\n","testResults":[]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"/home/eric/Projects/accounting-api/tests/integration/invoice-pdf-generation.test.ts","failureMessage":"  ● Test suite failed to run\n\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m308\u001b[0m:\u001b[93m80\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'calc' is of type 'unknown'.\n\n    \u001b[7m308\u001b[0m       const totalDiscountAmount = itemCalculations.reduce((sum, calc) => sum + calc.discountAmount, 0);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                               ~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m311\u001b[0m:\u001b[93m92\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'unknown' is not assignable to parameter of type 'string | number | Decimal'.\n\n    \u001b[7m311\u001b[0m       total = FinancialMath.subtract(FinancialMath.add(subtotalDecimal, taxAmountDecimal), totalDiscountAmount);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                                           ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m353\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'subtotal' does not exist on type '{}'.\n\n    \u001b[7m353\u001b[0m               subtotal: calc.subtotal,\n    \u001b[7m   \u001b[0m \u001b[91m                             ~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m354\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'discountAmount' does not exist on type '{}'.\n\n    \u001b[7m354\u001b[0m               discountAmount: calc.discountAmount,\n    \u001b[7m   \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m355\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'taxAmount' does not exist on type '{}'.\n\n    \u001b[7m355\u001b[0m               taxAmount: calc.taxAmount,\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m356\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'total' does not exist on type '{}'.\n\n    \u001b[7m356\u001b[0m               total: calc.total,\n    \u001b[7m   \u001b[0m \u001b[91m                          ~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m442\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'where.validUntil' is of type 'unknown'.\n\n    \u001b[7m442\u001b[0m         where.validUntil.gte = new Date(filters.validFrom);\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m445\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'where.validUntil' is of type 'unknown'.\n\n    \u001b[7m445\u001b[0m         where.validUntil.lte = new Date(filters.validTo);\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m945\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'number | Decimal' is not assignable to type 'number'.\n      Type 'Decimal' is not assignable to type 'number'.\n\n    \u001b[7m945\u001b[0m       totalValue: totalValue._sum.total || 0,\n    \u001b[7m   \u001b[0m \u001b[91m      ~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m18\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m18\u001b[0m   totalValue: number;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~~~\u001b[0m\n        The expected type comes from property 'totalValue' which is declared here on type 'QuoteStats'\n    \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m946\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2322: \u001b[0mType 'number | Decimal' is not assignable to type 'number'.\n      Type 'Decimal' is not assignable to type 'number'.\n\n    \u001b[7m946\u001b[0m       acceptedValue: acceptedValue._sum.total || 0,\n    \u001b[7m   \u001b[0m \u001b[91m      ~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/quote.service.ts\u001b[0m:\u001b[93m19\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m19\u001b[0m   acceptedValue: number;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~~~~~~\u001b[0m\n        The expected type comes from property 'acceptedValue' which is declared here on type 'QuoteStats'\n","testResults":[]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":["src/**/*.ts","!src/**/*.d.ts","!src/**/*.interface.ts","!src/**/*.mock.ts","!src/index.ts"],"coverageDirectory":"/home/eric/Projects/accounting-api/coverage/integration","coverageProvider":"babel","coverageReporters":["text","lcov","html","json-summary"],"coverageThreshold":{"global":{"branches":85,"functions":85,"lines":85,"statements":85}},"detectLeaks":false,"detectOpenHandles":true,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":true,"globalSetup":"/home/eric/Projects/accounting-api/tests/integration/global-setup.ts","globalTeardown":"/home/eric/Projects/accounting-api/tests/integration/global-teardown.ts","json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":1,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["/home/eric/Projects/accounting-api/node_modules/jest-junit/index.js",{"outputDirectory":"test-results/integration","outputName":"junit.xml","classNameTemplate":"{classname}","titleTemplate":"{title}","ancestorSeparator":" › ","usePathForSuiteName":true}],["/home/eric/Projects/accounting-api/node_modules/jest-html-reporters/index.js",{"publicPath":"test-results/integration","filename":"integration-report.html","expand":true,"hideIcon":false,"pageTitle":"Integration Test Report"}]],"rootDir":"/home/eric/Projects/accounting-api","runTestsByPath":false,"seed":-1806141465,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"invoice-pdf-generation.test.ts|organization-settings-customization.test.ts","testSequencer":"/home/eric/Projects/accounting-api/node_modules/@jest/test-sequencer/build/index.js","testTimeout":30000,"updateSnapshot":"new","useStderr":false,"verbose":true,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false},"endTime":1759158825462,"_reporterOptions":{"publicPath":"test-results/integration","filename":"integration-report.html","expand":true,"pageTitle":"Integration Test Report","hideIcon":false,"testCommand":"","openReport":true,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})